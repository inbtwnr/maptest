# Робота з даними точок карти

## Структура JSON файлу

Файл з даними точок знаходиться: `public/data/points.json`

### Формат JSON

```json
{
  "points": [
    {
      "id": "унікальний-ідентифікатор",
      "lng": 22.287,
      "lat": 48.6257,
      "title": "Назва точки",
      "description": "Опис точки (необов'язково)",
      "address": "Адреса точки (необов'язково)",
      "image": "/шлях/до/зображення.svg",
      "contentFile": "/content/points/файл-контенту.md"
    }
  ]
}
```

### Опис полів

- **id** (обов'язкове, string) - Унікальний ідентифікатор точки
- **lng** (обов'язкове, number) - Довгота (longitude)
- **lat** (обов'язкове, number) - Широта (latitude)
- **title** (обов'язкове, string) - Назва точки
- **description** (необов'язкове, string) - Короткий опис точки
- **address** (необов'язкове, string) - Адреса об'єкта
- **image** (необов'язкове, string) - Відносний шлях до зображення маркера
- **contentFile** (необов'язкове, string) - Відносний шлях до MD файлу з детальним описом

## Розміщення файлів

### Структура папок для експорту (./out)

```
out/
├── data/
│   └── points.json           # JSON з даними точок
├── content/
│   └── points/
│       ├── uzhnu-rectorat.md
│       ├── uzhnu-bam.md
│       └── fizfac-uzhnu.md
└── *.svg або *.png           # Зображення маркерів
```

### Важливо!

1. **Всі шляхи відносні** - починаються з `/` (наприклад: `/content/points/file.md`, `/image.svg`)
2. **JSON файл** має бути в `out/data/points.json`
3. **MD файли** мають бути в `out/content/points/`
4. **Зображення** можуть бути в корені `out/` або в підпапках

## Приклад повної структури

```json
{
  "points": [
    {
      "id": "4",
      "lng": 22.287,
      "lat": 48.6257,
      "title": "Ректорат УжНУ",
      "description": "Центральна будівля Ужгородського національного університету",
      "address": "пл. Народна, 3, Ужгород",
      "image": "/rectorat.svg",
      "contentFile": "/content/points/uzhnu-rectorat.md"
    },
    {
      "id": "5",
      "lng": 22.290587451062997,
      "lat": 48.6355801634869,
      "title": "Головна будівля УжНУ на Бамі",
      "description": "Навчальний корпус УжНУ на Бульварі Академіка Мірослава",
      "address": "бул. Академіка Мірослава, Ужгород",
      "image": "/bam.svg",
      "contentFile": "/content/points/uzhnu-bam.md"
    }
  ]
}
```

## Формат MD файлів

Markdown файли можуть містити будь-яке форматування:

```markdown
# Заголовок

Текст опису з **жирним шрифтом** та _курсивом_.

## Підзаголовок

- Список
- Пунктів

### Ще один підзаголовок

Посилання: [Текст посилання](https://example.com)

![Зображення](https://example.com/image.jpg)
```

## Динамічне завантаження

Фронтенд автоматично:

1. Завантажує `points.json` при старті
2. Відображає маркери на карті
3. Завантажує MD контент при кліку на маркер
4. Кешує завантажені дані для оптимізації

## Оновлення даних

Для оновлення даних на продакшені:

1. Оновіть `points.json`
2. Додайте/оновіть MD файли
3. Додайте/оновіть зображення
4. Перезавантажте сторінку в браузері (фронтенд підхопить зміни)

## API інтеграція

Якщо потрібно динамічно генерувати JSON на бекенді, створіть ендпоінт який повертає JSON у такому ж форматі. Замініть шлях завантаження в коді:

```typescript
// Було: fetch("/data/points.json")
// Стане: fetch("https://api.example.com/points")
```
